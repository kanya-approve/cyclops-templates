apiVersion: shulkermc.io/v1alpha1
kind: MinecraftServerFleet
metadata:
  name: {{ .Release.Name }}
spec:
  clusterRef:
    name: minecraft-cluster
  replicas: 1
  template:
    spec:
      clusterRef:
        name: minecraft-cluster
      config: {}
      podOverrides:
        volumeMounts:
          - name: {{ .Release.Name }}
            mountPath: /data
        volumes:
          -  name: {{ .Release.Name }}
             persistentVolumeClaim:
               claimName: {{ .Release.Name }}
               readOnly: false
      version:
        channel: Paper
        customJar:
          url: https://api.purpurmc.org/v2/purpur/{{ .Values.minecraftVersion }}/latest/download
        name: {{ .Values.minecraftVersion }}
      tags:
        - {{ .Release.Name }}
